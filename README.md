包含websocket和tcpsocket的服务，可以基于此进行重构